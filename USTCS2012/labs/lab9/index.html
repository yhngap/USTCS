<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- ### Change assignment number ### -->
    <title>COMP 2012 Lab 9: Standard Template Library</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://course.cse.ust.hk/comp2012/labs/css/blog-home.css" rel="stylesheet">

    <style>
        pre {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-left: 3px solid #f36d33;
            color: #666;
            page-break-inside: avoid;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 1.6em;
            max-width: 100%;
            overflow: auto;
            padding: 1em 1.5em;
            display: block;
            word-wrap: break-word;
        }
    </style>
</head>

<body>


<!-- Page Content -->
<div class="container">

    <div class="row">

        <!-- Entries Column -->
        <div class="col-md-9">

            <h4 class="my-4">
                <span style="color:darkblue">COMP 2012</span>
                <small>Object-Oriented Programming and Data Structures</small>
            </h4>

            <!-- ### Change assignment number and title ### -->
            <h3 class="my-4">Lab 9
                <span style="color:#660066">Standard Template Library</span>
            </h3>

            <!-- Introduction section -->
            <!-- ### Complete introduction section for the assignment ### -->
            <!-- <div class="card mb-4">
              <div class="card-body" id="introduction">

              </div>
            </div> -->

            <div class="card mb-4">
                <div class="card-body" id="labtask">
                    <h3 class="card-title">A Calculator for Polish Notation and Reverse Polish Notation</h3>
                    <p class="card-text">
                    <h4 id="objective">Objective</h4>
                    <p>
                        In this lab you are going to use vector and stack provided in STL to simulate a simple calculator that can evaluate an arithmetic expression represented in the format of Polish Notation or Reverse Polish Notation, and print the calculation steps.
                    </p>
                    <h4 id="description">Description</h4>
                    <p>
                      Polish Notation is a mathematical notation in which operators precede their operands while Reverse Polish Notation is an arithmetic expression in which operators follow their operands. The advantage of these two notations is that there is no precedence relationship between operators and no parentheses to change the order of operations.
                    </p>
                    <p>
                        The following part introduces how to evaluate an arithmetic expression represented in Polish Notation and Reverse Polish Notation using a stack. Let us take the formula "(5+6)*(3-1)=22" as an example.
              <br/><br/>
                        For its Polish Notation, "* + 5 6 - 3 1", we scan it from right to left.
              <ul>
                        <li>
                            The first two numbers "1" and "3" are pushed into the stack at the beginning. When the operator "-" is encountered, the two elements on the top of the stack will be popped and used as operands of "-" operation. The result "2" is then pushed into the stack; The following number "6" and "5" is pushed into the stack. When the operator "+" is encountered, the result "11" is pushed into the stack;<br/><br/>
                        </li>
                        <li>
                             When the operator "*" is encountered, the two elements on the top of the stack, "11" and "2", will be popped and used as the operands of multiplication operation. The result "22" is pushed into the stack;<br/><br/>
              </li>
                        <li>
                            Since there are no more operators and numbers in the notation, the algorithm terminates and the final result is "22".<br/><br/>
                        </li>
                        <img src="img/img1.png" style="display: block; margin: 10px auto; width: 100%;"/>
              </ul>
              <br/><br/>
                        For its Reverse Polish Notation, "5 6 + 3 1 - *", we scan it from left to right.
              <ul>
                      <li> 
                            The first two numbers "5", and "6" are pushed into the stack, and when the operator "+" is encountered. The result "11" is pushed into the stack. Then two numbers "3", and "1" are pushed into the stack, and when the operator "-" is encountered, the element on the top of the stack, "1" and "3", will be popped and used as operands of "-" operation. The result "2" is pushed into the stack;
                            <br/><br/>
                      </li>
                      <li>
                        When the operator "*" is encountered, the two elements on the top of the stack, "2" and "11", will be popped and used as the operands of multiplication operation. The result "22" is pushed into the stack;<br/><br/>
                      </li>
                      <li>
                        Since there are no more operators and numbers in the notation, the algorithm terminates and the final result is "22".<br/><br/>
                      </li>
                      <img src="img/img2.png" style="display: block; margin: 10px auto; width: 100%;"/>
              </ul>
            </p>
                    <p>
                        In this lab, you will only need to implement two functions: 
                        <code>store_the_formula()</code> and <code>calculation_steps()</code> in 
                        <code>calculator.cpp</code>. You should not modify any other function in the file. 
                        You may define your own helper functions if you want but it is not necessary. In 
                        <code>store_the_formula()</code>, you are expected to store the numbers and operators of a given formula 
                        in a <code>vector</code>.
                        In <code>calculation_steps()</code>, You must use <code>iterator</code>s to traverse the formula vector and 
                        a <code>stack</code> and to evaluate the formula, as explained above. First you need to determine 
                        whether a formula is in Polish or Reverse Polish notation.
                    </p>
                    <p>
                        <b>Hints:</b> <code>is_digits</code> and <code>is_operator</code> are two functions that help you check 
                        whether a given string contains only digits or math operators, and you may find them useful to 
                        determine whether a formula is in Polish or Reverse Polish notation. <code>string::find_first_not_of()</code> 
                        searches the string for the first character that does not match any of the characters specified in its arguments 
                        and returns the position of the first character that does not match. If no such characters are found, 
                        the function returns <code>string::npos</code>.
                        <code>string::npos</code> is usually used to indicate no matches and is defined with a value of -1. 
                        You may also find <code>std::stoi</code> useful as it is a function that converts string to integer.
                    </p>
            <br/>
                    <h4 id="task">Task</h4>
                    <ol>
                        <li> Finish the TODOs in <code>calculator.cpp</code>.
                        </li>
                        <li>Compile the project.</li>
                        <li>Run the executable to check with the
                            expected output below:
                        </li>
<pre>
Test 1:
Formula: 5 1 2 + 4 * + 3 - 
Calculation steps: 
push 5 to the stack.
push 1 to the stack.
push 2 to the stack.
pop 2 from the stack.
pop 1 from the stack.
1+2=3
push 3 to the stack.
push 4 to the stack.
pop 4 from the stack.
pop 3 from the stack.
3*4=12
push 12 to the stack.
pop 12 from the stack.
pop 5 from the stack.
5+12=17
push 17 to the stack.
push 3 to the stack.
pop 3 from the stack.
pop 17 from the stack.
17-3=14
push 14 to the stack.
Result: 14

Test 2:
Formula: 9 3 1 - 3 * 10 2 / + + 
Calculation steps: 
push 9 to the stack.
push 3 to the stack.
push 1 to the stack.
pop 1 from the stack.
pop 3 from the stack.
3-1=2
push 2 to the stack.
push 3 to the stack.
pop 3 from the stack.
pop 2 from the stack.
2*3=6
push 6 to the stack.
push 10 to the stack.
push 2 to the stack.
pop 2 from the stack.
pop 10 from the stack.
10/2=5
push 5 to the stack.
pop 5 from the stack.
pop 6 from the stack.
6+5=11
push 11 to the stack.
pop 11 from the stack.
pop 9 from the stack.
9+11=20
push 20 to the stack.
Result: 20

Test 3:
Formula: + + 2 * 3 - 10 4 / 8 4 
Calculation steps: 
push 4 to the stack.
push 8 to the stack.
pop 8 from the stack.
pop 4 from the stack.
8/4=2
push 2 to the stack.
push 4 to the stack.
push 10 to the stack.
pop 10 from the stack.
pop 4 from the stack.
10-4=6
push 6 to the stack.
push 3 to the stack.
pop 3 from the stack.
pop 6 from the stack.
3*6=18
push 18 to the stack.
push 2 to the stack.
pop 2 from the stack.
pop 18 from the stack.
2+18=20
push 20 to the stack.
pop 20 from the stack.
pop 2 from the stack.
20+2=22
push 22 to the stack.
Result: 22

Test 4:
Formula: - * 2 + 1 5 4 
Calculation steps: 
push 4 to the stack.
push 5 to the stack.
push 1 to the stack.
pop 1 from the stack.
pop 5 from the stack.
1+5=6
push 6 to the stack.
push 2 to the stack.
pop 2 from the stack.
pop 6 from the stack.
2*6=12
push 12 to the stack.
pop 12 from the stack.
pop 4 from the stack.
12-4=8
push 8 to the stack.
Result: 8
</pre>
Note that for operators + and *, you can print the operands in any order since 
it doesn't affect the calculation result for these operators.
                    </ol>


                    </p>
                </div>
</div>
            <div class="card mb-4">
                <div class="card-body" id="submission">
                    <h3 class="card-title">Submission</h3>
                    <p class="card-text">
                        
                    </p><p>For this lab, please zip and submit the following:
                    </p><ul>
                    <li>calculator.cpp</li>
                </ul><p></p>
                <p>The ZINC system has been revamped, you may follow the new instruction <a 
href="../../assignments/assignment1/submission-guide/index.html">here</a>. Of course, you need to choose "Lab 9" on Zinc.</p>
                <p></p>
                </div>
             </div>
            

            <div class="card mb-4">
                <div class="card-body" id="download">
                    <h3 class="card-title">Download</h3>
                    <p class="card-text">
Download the <a href="skeleton.zip">HERE</a>. Note that your project contains one cpp file, so you need to use the command <code>g++ -std=c++11 -o cal calculator.cpp</code> to compile it just like the previous lab, or you can also create a Makefile yourself. To run it, execute <code>./cal</code> in terminal.
            </p>
                </div>
            </div>

            <!-- Description section -->
            <!-- ### Complete description section for the assignment ### -->

        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-3" style="">
            <div class="sticky-top">

                <!-- Menu Widget -->
                <div class="card my-12">
                    <h5 class="card-header">Menu</h5>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <ul class="mb-0" type="circle" style="padding-left:20px">
                                    <li>
                                        <a href="index.html#labtask">A Calculator for Polish Notation and Reverse Polish Notation</a>
                                        <ul>
                                            <li><a href="index.html#objective">Objective</a></li>
                                            <li><a href="index.html#description">Description</a></li>
                                            <li><a href="index.html#task">Task</a></li>
                                            <li><a href="index.html#submission">Submission</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="index.html#download">Download</a>
                                        <ul>
                                            <li><a href="index.html#download-source">Source</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Maintainance widget -->
                <div class="card my-4">
                    <h5 class="card-header">Page maintained by</h5>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <ul class="list-unstyled mb-0">
                                    <li>
                                        QUAN, Yuqing
                                    </li>
                                    <li>
                                        Email:
                                        <a href="mailto:yquanaa@connect.ust.hk">yquanaa@connect.ust.hk</a>
                                    </li>
                                    <li>Last Modified:
                                        <script type="text/javascript">
                                            document.write(document.lastModified);
                                        </script>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Homepage widget -->
                <div class="card my-4">
                    <h5 class="card-header">Homepage</h5>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <ul class="list-unstyled mb-0">
                                    <li>
                                        <a href="../../../comp2012.1.html">Course Homepage</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- /.row -->

</div>
<!-- /.container -->

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Maintained by COMP 2012 Teaching Team &copy; 2020 HKUST Computer Science
            and Engineering</p>
    </div>
    <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script>
    function promptWarning() {
        var s = confirm(
            "I know that I should not change main.cpp. \nClick \"Cancel\" to proceed. "
        );
        if (s == true) {
            alert("Please read the prompt again.");
        } else {
            window.open('lab5-ske.zip');
        }
    };
</script>
</body>

</html>
